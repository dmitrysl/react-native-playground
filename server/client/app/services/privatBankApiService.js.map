{"version":3,"sources":["services/privatBankApiService.ts"],"names":["core_1","require","http_1","PrivatBankApiService","http","this","baseApiUrl","prototype","getExchangeRates","isCaheRate","coursid","get","getApiUrl","map","response","data","json","getExchangeRatesHistory","date","dateStr","console","warn","url","__decorate","Injectable","exports"],"mappings":"sgBAAAA,OAAAC,QAA2B,iBAC3BC,OAAAD,QAAwD,iBAMxDE,qBAAA,WAGI,QAAAA,GAAoBC,GAAAC,KAAAD,KAAAA,EAChBC,KAAKC,WAAa,oCA0B1B,MAvBIH,GAAAI,UAAAC,iBAAA,SAAiBC,GAAA,SAAAA,IAAAA,GAAA,EACb,IAAIC,GAAUD,EAAa,EAAI,EAC/B,OAAOJ,MAAKD,KAAKO,IAAIN,KAAKO,UAAU,iCAAiCF,IAChEG,IAAI,SAACC,GACF,GAAIC,GAAOD,EAASE,MACpB,OAAOD,MAInBZ,EAAAI,UAAAU,wBAAA,SAAwBC,GAEpB,GAAIC,GAAU,EAEd,OADAC,SAAQC,KAAKF,GACNd,KAAKD,KAAKO,IAAIN,KAAKO,UAAU,4BAA4BO,IAC3DN,IAAI,SAACC,GACF,GAAIC,GAAOD,EAASE,MACpB,OAAOD,MAIXZ,EAAAI,UAAAK,UAAR,SAAkBU,GACd,MAAOjB,MAAKC,WAAagB,GA7BjCnB,EAAAoB,YAACvB,OAAAwB,iEACYC,SAAAtB,qBAAoBA","file":"services/privatBankApiService.js","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { Http, Headers, Response, RequestOptions } from '@angular/http';\r\nimport { Observable } from 'rxjs/Observable';\r\n\r\n\r\n\r\n@Injectable()\r\nexport class PrivatBankApiService {\r\n    private baseApiUrl: string;\r\n\r\n    constructor(private http: Http) {\r\n        this.baseApiUrl = \"https://api.privatbank.ua/p24api/\";\r\n    }\r\n\r\n    getExchangeRates(isCaheRate: boolean = true): Observable<Object> {\r\n        let coursid = isCaheRate ? 5 : 11;\r\n        return this.http.get(this.getApiUrl(`pubinfo?json&exchange&coursid=${coursid}`))\r\n            .map((response: Response) => {\r\n                let data = response.json();\r\n                return data;\r\n            });\r\n    }\r\n\r\n    getExchangeRatesHistory(date: Date): Observable<Object> {\r\n        //import moment from 'moment';\r\n        let dateStr = ''; //moment(date).format('dddd, MMMM Do YYYY, h:mm:ss a');\r\n        console.warn(dateStr);\r\n        return this.http.get(this.getApiUrl(`exchange_rates?json&date=${dateStr}`))\r\n            .map((response: Response) => {\r\n                let data = response.json();\r\n                return data;\r\n            });\r\n    }\r\n\r\n    private getApiUrl(url: string): string {\r\n        return this.baseApiUrl + url;\r\n    }\r\n}"],"sourceRoot":"/source/"}